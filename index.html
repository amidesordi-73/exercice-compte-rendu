<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Exercice IA & Compte rendu de r√©union</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        :root {
            --primary: #2b579a;
            --secondary: #f4f4f9;
            --accent: #e0ecff;
            --border: #d0d7e2;
            --success: #2e7d32;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: var(--secondary);
            color: #333;
            line-height: 1.5;
        }

        /* HEADER */
        header {
            background: var(--primary);
            color: #fff;
            padding: 16px 24px 20px;
            text-align: center;
        }

        .header-logos {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 24px;
            margin-bottom: 8px;
            flex-wrap: wrap;
        }

        .header-logos img {
            max-height: 60px;
            width: auto;
        }

        header h1 {
            margin: 4px 0 0;
            font-size: 22px;
        }

        header p {
            margin: 4px 0 0;
            font-size: 14px;
        }

        main {
            max-width: 1100px;
            margin: 20px auto;
            padding: 0 16px 32px;
        }

        /* Encadr√©s g√©n√©raux */
        .info-box {
            background: #fff;
            border-radius: 8px;
            border: 1px solid var(--border);
            padding: 16px 20px;
            margin-bottom: 18px;
        }

        .info-box h2 {
            margin-top: 0;
            font-size: 18px;
            color: var(--primary);
        }

        /* Encadr√© sp√©cial pour "Exercices guid√©s" */
        .intro-exercices {
            background: #eaf2ff !important;
            border-left: 6px solid var(--primary);
            padding: 20px 24px;
            margin-top: 30px;
            margin-bottom: 26px;
        }

        .intro-exercices h2 {
            font-size: 20px;
            color: var(--primary);
            margin-top: 0;
        }

        .intro-exercices p {
            font-size: 15px;
            margin-top: 6px;
        }

        label {
            font-weight: bold;
            display: block;
            margin-bottom: 4px;
        }

        textarea {
            width: 100%;
            min-height: 120px;
            padding: 10px;
            border-radius: 6px;
            border: 1px solid var(--border);
            resize: vertical;
            font-family: inherit;
        }

        /* CARTES EXERCICES */
        .card {
            background: #fff;
            padding: 16px 18px 24px;
            margin-bottom: 0;
            border-bottom: 2px solid #bfc6d1; /* trait de s√©paration */
        }

        .card:last-of-type {
            border-bottom: none;
        }

        .card h3 {
            margin-top: 0;
            font-size: 18px;
            color: var(--primary);
        }

        .tag {
            display: inline-block;
            background: var(--accent);
            color: var(--primary);
            padding: 3px 10px;
            border-radius: 999px;
            font-size: 11px;
            margin-bottom: 8px;
        }

        .btn-row {
            margin-top: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        button {
            border: none;
            border-radius: 999px;
            padding: 8px 14px;
            cursor: pointer;
            font-size: 13px;
        }

        .btn-main {
            background: var(--primary);
            color: #fff;
        }

        .btn-ghost {
            background: #fff;
            border: 1px solid var(--border);
            color: #333;
        }

        /* Boutons "gros" d'action */
        .btn-large {
            font-size: 16px;
            padding: 12px 26px;
            font-weight: bold;
        }

        .btn-outline {
            background: #fff;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        @media (max-width: 600px) {
            .btn-large {
                width: 100%;
                text-align: center;
            }
        }

        .prompt-box {
            display: none;
            margin-top: 8px;
            padding: 10px;
            border-radius: 6px;
            background: #f9fbff;
            border: 1px dashed var(--border);
            font-size: 13px;
            white-space: pre-wrap;
        }

        .reflection {
            margin-top: 10px;
        }

        footer {
            text-align: center;
            font-size: 12px;
            color: #777;
            padding: 12px 0 32px;
        }

        /* Section export en bas */
        .export-section {
            text-align: center;
            margin-top: 30px;
        }

        .export-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            margin-top: 12px;
        }

        /* Notification export PDF */
        #pdfNotif {
            position: fixed;
            left: 50%;
            bottom: 16px;
            transform: translateX(-50%);
            background: var(--success);
            color: #fff;
            padding: 8px 16px;
            border-radius: 999px;
            font-size: 13px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
            display: none;
            z-index: 9999;
        }

        /* MODE IMPRESSION : cadres complets, sans scroll, non coup√©s */
        @media print {
            body {
                background: #fff !important;
            }

            main {
                max-width: 100% !important;
                margin: 0 !important;
                padding: 0 20px !important;
            }

            .info-box,
            .card {
                page-break-inside: avoid !important;
                break-inside: avoid !important;
                -webkit-column-break-inside: avoid !important;
            }

            /* Masquer la section boutons export en bas si tu veux */
            .export-section {
                display: none !important;
            }

            #pdfNotif {
                display: none !important;
            }
        }
    </style>
</head>
<body>

<header>
    <div class="header-logos">
        <img src="img/logo avenir pro formation.png" alt="Logo Avenir Pro Formations">
        <img src="img/logo-ami-des-ordi.png" alt="Logo L'ami des ordi">
    </div>
    <h1>Exercice IA & compte rendu de r√©union</h1>
    <p>√Ä partir d‚Äôun compte rendu r√©el, apprenez √† utiliser une IA comme assistant de direction.</p>
</header>

<main>
    <!-- PARTIE 1 AVEC COMPTE RENDU -->
    <section class="info-box">
        <h2>Partie 1. Compte rendu de r√©union (support de l‚Äôexercice)</h2>
        <p>Vous pouvez exporter ce compte rendu en PDF juste ici. L‚Äôimpression de la page compl√®te (avec vos notes) se fait en bas.</p>

        <div id="crDocument" style="
            background: #fff;
            border: 1px solid var(--border);
            padding: 18px;
            border-radius: 8px;
            max-height: 420px;
            overflow-y: auto;
            white-space: pre-wrap;
            line-height: 1.4;
            font-size: 14px;
        ">
Compte rendu de r√©union ‚Äì √âquipe p√©dagogique 
Date : Lundi 22 juillet 2025
Heure : 9h00 ‚Äì 11h30
Lieu : Salle de r√©union ‚Äì Locaux formation
Pr√©sents :
‚Ä¢ Florence : G√©rante, formatrice en TRE, RH, entreprise virtuelle, communication
‚Ä¢ R√©my : Formateur en bureautique, IA, entreprise virtuelle
‚Ä¢ C√©line : Assistante de direction, responsable p√©dagogique, formatrice en communication et entreprise virtuelle
‚Ä¢ Laure : Formatrice en anglais
‚Ä¢ Sophie : Formatrice en comptabilit√© et paie
‚Ä¢ Morgan : Intervenant en gestion des √©motions
________________________________________
1. Accueil et introduction
Florence ouvre la r√©union en remerciant l‚Äô√©quipe pour leur implication dans les derniers mois. Elle rappelle que cette r√©union a pour but de faire un point complet sur l‚Äôorganisation de la rentr√©e, les contenus de formation, les besoins mat√©riels, et les pistes d‚Äôam√©lioration p√©dagogique. Un ordre du jour est distribu√© √† chaque participant.
________________________________________
2. Organisation p√©dagogique et rentr√©e de septembre
‚Ä¢ La rentr√©e est pr√©vue le lundi 2 septembre 2025.
‚Ä¢ L‚Äôaccueil des stagiaires se fera en deux temps :
  o Une r√©union collective d‚Äôint√©gration (pr√©sentation de l‚Äô√©quipe, r√®glement int√©rieur, outils communs)
  o Des entretiens individuels dans la semaine pour cerner les besoins sp√©cifiques (organis√©s par C√©line)
‚Ä¢ Les emplois du temps ont √©t√© ajust√©s pour √©quilibrer la charge horaire des formateurs et mieux r√©partir les modules.
‚Ä¢ Des cr√©neaux fixes ont √©t√© d√©finis pour les ateliers d‚Äôentreprise virtuelle et d'accompagnement personnalis√©.
‚Ä¢ L‚Äôabsent√©isme observ√© sur certaines sessions au printemps dernier sera trait√© plus rigoureusement :
  o Enregistrement syst√©matique dans les feuilles de pr√©sence
  o Appels t√©l√©phoniques en cas d'absence non justifi√©e
  o Relances √©crites standardis√©es d√®s 2 absences injustifi√©es (mod√®le √† finaliser avec C√©line)
________________________________________
3. Contenus p√©dagogiques et innovations
‚Ä¢ R√©my propose un module transversal ¬´ IA au service du tertiaire ¬ª, comprenant :
  o Une initiation aux outils (ChatGPT, Gemini, Copilot, Mistral)
  o Des exercices pratiques : r√©daction, r√©sum√©, organisation, communication
‚Ä¢ Florence souhaite renforcer les sc√©narisations dans les cours TRE et RH (jeux de r√¥le, simulations d‚Äôentretien).
‚Ä¢ Sophie d√©veloppe de nouveaux cas pratiques en paie bas√©s sur des documents r√©alistes (bulletins, variables, anomalies √† d√©tecter).
‚Ä¢ Laure int√®gre davantage d‚Äôoutils interactifs (Quizizz, jeux de r√¥le, applications de prononciation) dans ses s√©ances d‚Äôanglais.
‚Ä¢ C√©line pr√©voit de mutualiser les supports de communication professionnelle (fiches visuelles, mod√®les de mails, exercices types) sur un espace commun.
‚Ä¢ Morgan proposera un cycle de 3 ateliers sur la gestion des √©motions et du stress en formation, adapt√©s √† des publics en reconversion.
________________________________________
4. Suivi administratif et √©valuations
‚Ä¢ Les feuilles de pr√©sence devront √™tre collect√©es chaque vendredi √† 12h. C√©line en assurera la v√©rification.
‚Ä¢ Les √©valuations √† mi-parcours auront lieu entre le 15 et le 25 octobre. Un mod√®le commun (bar√®me, crit√®res, formulaire) est en cours de finalisation.
‚Ä¢ Une attestation d‚Äôassiduit√© mensuelle sera g√©n√©r√©e en interne pour chaque stagiaire (mod√®le √† valider par C√©line et Florence).
‚Ä¢ Un questionnaire d‚Äôauto-√©valuation des stagiaires (via Google Forms) sera propos√© pour les aider √† faire un point sur leurs acquis.
________________________________________
5. Moyens mat√©riels et techniques
‚Ä¢ Plusieurs probl√®mes ont √©t√© signal√©s sur les PC portables :
  o lenteurs de d√©marrage
  o autonomie faible
  o micros d√©fectueux
  o R√©my proc√©dera √† un diagnostic du parc informatique la semaine du 5 ao√ªt.
‚Ä¢ C√©line a demand√© un second vid√©oprojecteur mobile pour les formations simultan√©es.
‚Ä¢ Un Google Drive d‚Äô√©quipe sera mis en place par Florence, avec dossiers class√©s par modules, supports mutualis√©s et trame commune.
________________________________________
6. Vie d‚Äô√©quipe et coordination
‚Ä¢ Un d√©jeuner d‚Äô√©quipe est pr√©vu le jeudi 29 ao√ªt √† 12h30 pour lancer l‚Äôann√©e dans une ambiance conviviale.
‚Ä¢ Florence propose une formation interne d‚Äôune demi-journ√©e sur la posture professionnelle face aux stagiaires, en bin√¥me avec Morgan.
‚Ä¢ Le calendrier des r√©unions p√©dagogiques sera partag√© d√©but septembre (prochaine r√©union fix√©e au lundi 2 septembre √† 10h).
________________________________________
7. Cl√¥ture
Florence remercie chaleureusement toute l‚Äô√©quipe pour la qualit√© des √©changes, leur professionnalisme et leur esprit d‚Äôinitiative.
Un compte rendu num√©rique sera envoy√© dans la semaine, accompagn√© des feuilles de route individuelles pour la rentr√©e.
        </div>

        <!-- BOUTON PDF EN HAUT, JUSTE SOUS LE COMPTE RENDU -->
        <div style="margin-top: 14px; text-align: center;">
            <button id="btnPdf" class="btn-main btn-large" type="button">
                üìÑ Exporter le compte rendu en PDF
            </button>
        </div>
    </section>

    <!-- PARTIE 2 : INTRO EXERCICES GUID√âS -->
    <section class="info-box intro-exercices">
        <h2>Partie 2. Exercices guid√©s avec une IA</h2>
        <p>Chaque carte ci-dessous correspond √† un exercice. Vous suivez les √©tapes, utilisez l‚ÄôIA, puis collez le r√©sultat dans la zone pr√©vue.</p>
    </section>

    <!-- Exercice 1 -->
    <section class="card">
        <span class="tag">Exercice 1 ‚Äì Plan d‚Äôaction</span>
        <h3>Cr√©er un plan d‚Äôaction √† partir du compte rendu</h3>
        <p><strong>Objectif :</strong> transformer le compte rendu en un plan d‚Äôaction op√©rationnel (qui fait quoi, pour quand).</p>

        <div class="btn-row">
            <button class="btn-main" type="button" onclick="togglePrompt('prompt1')">Voir le prompt conseill√©</button>
        </div>
        <div id="prompt1" class="prompt-box">
Tu es assistant de direction dans un organisme de formation.
√Ä partir du compte rendu de r√©union ci-dessous, cr√©e un plan d‚Äôaction d√©taill√© pour la rentr√©e 2025, sous forme de tableau, avec les colonnes :
- Responsable
- Action
- √âch√©ance
- Priorit√© (haute / moyenne / basse)

Regroupe les actions par personne (Florence, C√©line, R√©my, etc.).
        </div>

        <div class="reflection">
            <label for="reponse1">R√©sultat g√©n√©r√© par l‚ÄôIA (plan d‚Äôaction) :</label>
            <textarea id="reponse1" placeholder="Collez ici le tableau ou la liste produite par l‚ÄôIA."></textarea>
        </div>

        <div class="reflection">
            <label for="analyse1">Analyse et remarques :</label>
            <textarea id="analyse1" placeholder="Qu‚Äôest-ce qui vous semble correct ? Qu‚Äôauriez-vous besoin de modifier ? Y a-t-il des actions manquantes ?"></textarea>
        </div>
    </section>

    <!-- Exercice 2 -->
    <section class="card">
        <span class="tag">Exercice 2 ‚Äì R√©sum√©s & email</span>
        <h3>Adapter le compte rendu √† diff√©rents formats</h3>
        <p><strong>Objectif :</strong> obtenir plusieurs versions d‚Äôun m√™me contenu : r√©sum√© long, r√©sum√© court, email.</p>

        <div class="btn-row">
            <button class="btn-main" type="button" onclick="togglePrompt('prompt2')">Voir les prompts conseill√©s</button>
        </div>
        <div id="prompt2" class="prompt-box">
1) R√©sum√© long (10‚Äì15 lignes) :
¬´ Fais un r√©sum√© structur√© de 10 √† 15 lignes de ce compte rendu de r√©union, 
en gardant les grandes parties (organisation, contenus p√©dagogiques, mat√©riel, vie d‚Äô√©quipe). ¬ª

2) R√©sum√© tr√®s court (5 puces) :
¬´ Fais un r√©sum√© t√©l√©graphique en 5 puces maximum, en ne gardant que les informations 
les plus importantes pour l‚Äô√©quipe p√©dagogique. ¬ª

3) Email professionnel :
¬´ R√©dige un email professionnel √† destination de l‚Äô√©quipe de formateurs, 
pour leur r√©sumer cette r√©union en insistant sur :
- la rentr√©e de septembre,
- les nouveaut√©s p√©dagogiques,
- les actions √† r√©aliser avant le 2 septembre.
Ton ton doit √™tre positif, clair et motivant. ¬ª
        </div>

        <div class="reflection">
            <label for="resumeLong">R√©sum√© long g√©n√©r√© par l‚ÄôIA :</label>
            <textarea id="resumeLong" placeholder="Collez ici le r√©sum√© de 10 √† 15 lignes."></textarea>
        </div>

        <div class="reflection">
            <label for="resumeCourt">R√©sum√© court (5 puces) :</label>
            <textarea id="resumeCourt" placeholder="Collez ici le r√©sum√© tr√®s court en puces."></textarea>
        </div>

        <div class="reflection">
            <label for="emailEquipe">Email pour l‚Äô√©quipe :</label>
            <textarea id="emailEquipe" placeholder="Collez ici l‚Äôemail g√©n√©r√© par l‚ÄôIA. Vous pouvez ensuite le corriger ou l‚Äôam√©liorer."></textarea>
        </div>

        <div class="reflection">
            <label for="analyse2">Analyse : diff√©rences entre les versions</label>
            <textarea id="analyse2" placeholder="Quelles informations disparaissent dans la version courte ? Le ton de l‚Äôemail est-il adapt√© ? Que modifieriez-vous ?"></textarea>
        </div>
    </section>

    <!-- Exercice 3 -->
    <section class="card">
        <span class="tag">Exercice 3 ‚Äì Diaporama</span>
        <h3>Construire un plan de diaporama</h3>
        <p><strong>Objectif :</strong> obtenir un plan de pr√©sentation pour une r√©union ou une pl√©ni√®re.</p>

        <div class="btn-row">
            <button class="btn-main" type="button" onclick="togglePrompt('prompt3')">Voir le prompt conseill√©</button>
        </div>
        <div id="prompt3" class="prompt-box">
¬´ Transforme ce compte rendu de r√©union en plan de diaporama PowerPoint en 8 diapositives maximum.
Pour chaque diapositive, propose :
- un titre,
- 3 √† 5 puces courtes.
Garde une diapositive de conclusion avec les remerciements et les √©tapes suivantes. ¬ª
        </div>

        <div class="reflection">
            <label for="diapoPlan">Plan de diaporama g√©n√©r√© par l‚ÄôIA :</label>
            <textarea id="diapoPlan" placeholder="Collez ici le plan de diaporama propos√© par l‚ÄôIA (titres de diapositives + puces)."></textarea>
        </div>

        <div class="reflection">
            <label for="analyse3">Analyse : plan √† conserver / √† am√©liorer</label>
            <textarea id="analyse3" placeholder="Les grandes parties de la r√©union sont-elles toutes pr√©sentes ? Que modifieriez-vous dans l‚Äôordre ou les titres ?"></textarea>
        </div>
    </section>

    <!-- BILAN -->
    <section class="info-box">
        <h2>3. Bilan personnel</h2>
        <p>R√©pondez √† ces questions (oralement avec le formateur ou par √©crit) :</p>
        <ul>
            <li>Dans quel exercice l‚ÄôIA vous a-t-elle le plus aid√©&nbsp;?</li>
            <li>Dans quel exercice avez-vous d√ª le plus corriger la r√©ponse de l‚ÄôIA&nbsp;?</li>
            <li>Comment pourriez-vous r√©utiliser cette m√©thode dans votre futur poste (assistante, formateur, responsable p√©dagogique, etc.)&nbsp;?</li>
        </ul>
    </section>

    <!-- SECTION EXPORT EN BAS : IMPRESSION -->
    <section class="info-box export-section">
        <h2>Imprimer la page compl√®te</h2>
        <p>Quand vous avez termin√© vos exercices et vos notes, vous pouvez imprimer cette page (ou l‚Äôenregistrer en PDF) :</p>

        <div class="export-buttons">
            <button class="btn-outline btn-large" type="button" onclick="window.print()">
                üñ®Ô∏è Imprimer la page (avec vos notes)
            </button>
        </div>
    </section>

</main>

<footer>
    Exercice IA & Compte rendu de r√©union ‚Äì Adapt√© pour la formation tertiaire | Avenir Pro Formations
</footer>

<!-- Notification export PDF -->
<div id="pdfNotif">‚úÖ PDF export√© avec succ√®s.</div>

<!-- jsPDF depuis CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
    function togglePrompt(id) {
        const box = document.getElementById(id);
        if (!box) return;
        box.style.display = (box.style.display === 'block') ? 'none' : 'block';
    }

    function showPdfNotification() {
        const notif = document.getElementById('pdfNotif');
        notif.style.display = 'block';
        setTimeout(() => {
            notif.style.display = 'none';
        }, 3000);
    }

    // --- Gestion de l'agrandissement automatique pour l'impression ---

    const originalTextAreaHeights = new Map();

    function expandForPrint() {
        // 1. Agrandir toutes les zones de texte √† la hauteur de leur contenu
        const textareas = document.querySelectorAll('textarea');
        textareas.forEach((ta) => {
            // m√©moriser la hauteur actuelle pour pouvoir la restaurer ensuite
            originalTextAreaHeights.set(ta, ta.style.height);
            ta.style.height = 'auto';
            ta.style.height = (ta.scrollHeight + 4) + 'px';
        });

        // 2. Agrandir le cadre du compte rendu (supprimer la limite de hauteur + scroll)
        const cr = document.getElementById('crDocument');
        if (cr) {
            cr.dataset.origMaxHeight = cr.style.maxHeight || '';
            cr.dataset.origOverflowY = cr.style.overflowY || '';
            cr.style.maxHeight = 'none';
            cr.style.overflowY = 'visible';
            cr.style.height = 'auto';
        }
    }

    function resetAfterPrint() {
        // 1. Restaurer les hauteurs des textareas
        const textareas = document.querySelectorAll('textarea');
        textareas.forEach((ta) => {
            const h = originalTextAreaHeights.get(ta);
            if (h !== undefined) {
                ta.style.height = h;
            } else {
                ta.style.height = '';
            }
        });
        originalTextAreaHeights.clear();

        // 2. Restaurer le comportement du compte rendu
        const cr = document.getElementById('crDocument');
        if (cr) {
            if (cr.dataset.origMaxHeight !== undefined) {
                cr.style.maxHeight = cr.dataset.origMaxHeight;
            }
            if (cr.dataset.origOverflowY !== undefined) {
                cr.style.overflowY = cr.dataset.origOverflowY;
            }
            cr.style.height = '';
        }
    }

    // √âcouteurs pour l'impression (compatibilit√© max navigateurs)
    if (window.matchMedia) {
        const mediaQueryList = window.matchMedia('print');
        mediaQueryList.addListener((mql) => {
            if (mql.matches) {
                expandForPrint();
            } else {
                resetAfterPrint();
            }
        });
    }

    window.addEventListener('beforeprint', expandForPrint);
    window.addEventListener('afterprint', resetAfterPrint);

    // --- Export PDF (sans impression) avec logos ---
    document.addEventListener('DOMContentLoaded', async function () {
        const btnPdf = document.getElementById('btnPdf');
        if (!btnPdf) return;

        // Pr√©charger les logos pour le PDF
        const logoAPFPromise = loadImageAsDataURL('img/logo avenir pro formation.png');
        const logoAmiPromise = loadImageAsDataURL('img/logo-ami-des-ordi.png');
        const [logoAPF, logoAmi] = await Promise.all([logoAPFPromise, logoAmiPromise]);

        btnPdf.addEventListener('click', function () {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF({
                orientation: 'portrait',
                unit: 'pt',
                format: 'a4'
            });

            const pageWidth  = doc.internal.pageSize.getWidth();
            const pageHeight = doc.internal.pageSize.getHeight();
            const marginLeft = 40;
            const marginTopInitial  = 40;
            const marginBottom = 40;
            const usableWidth = pageWidth - marginLeft * 2;

            let cursorY = marginTopInitial;

            // Logos en haut du PDF
            const logoHeight = 40;
            const logoWidth = 100;

            if (logoAPF) {
                doc.addImage(logoAPF, 'PNG', marginLeft, cursorY, logoWidth, logoHeight);
            }
            if (logoAmi) {
                doc.addImage(logoAmi, 'PNG', pageWidth - marginLeft - logoWidth, cursorY, logoWidth, logoHeight);
            }

            cursorY += logoHeight + 20;

            // Titre
            doc.setFont('Helvetica', 'normal');
            doc.setFontSize(14);
            doc.text('Compte rendu de r√©union ‚Äì 22 juillet 2025', pageWidth / 2, cursorY, { align: 'center' });

            cursorY += 30;

            // Corps du texte
            doc.setFontSize(11);
            const text = document.getElementById('crDocument').innerText;
            const lines = doc.splitTextToSize(text, usableWidth);

            lines.forEach(line => {
                if (cursorY > pageHeight - marginBottom) {
                    doc.addPage();
                    cursorY = marginTopInitial;
                }
                doc.text(line, marginLeft, cursorY);
                cursorY += 14;
            });

            // Export direct en PDF
            doc.save('Compte-rendu-reunion-22-07-2025.pdf');
            showPdfNotification();
        });
    });

    // Chargement d'une image et conversion en dataURL (pour jsPDF)
    function loadImageAsDataURL(src) {
        return new Promise((resolve) => {
            const img = new Image();
            img.crossOrigin = 'anonymous';
            img.onload = () => {
                const canvas = document.createElement('canvas');
                canvas.width = img.naturalWidth;
                canvas.height = img.naturalHeight;
                const ctx = canvas.getContext('2d');
                ctx.drawImage(img, 0, 0);
                const dataURL = canvas.toDataURL('image/png');
                resolve(dataURL);
            };
            img.onerror = () => resolve(null);
            img.src = src;
        });
    }
</script>

</body>
</html>
